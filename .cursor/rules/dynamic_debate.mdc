---
description: dynamic debate 진행 가이드
alwaysApply: false
---

# 🎭 Dynamic 토론 시스템 가이드

## 📋 개요

**Dynamic 토론**은 AI가 실시간으로 토론 상태를 분석하여 진행 방식을 적응적으로 조정하는 지능형 토론 시스템입니다. 기존의 정적인 순차 진행 방식에서 벗어나, 토론의 온도와 흐름에 따라 다양한 개입 방식을 사용합니다.

## 🔄 토론 흐름도

```mermaid
flowchart TD
    A["토론 시작<br/>Dynamic Mode"] --> B["1단계: 초기 의견 발표<br/>고정 진행"]
    B --> C["사전 분석(1라운드용)<br/>초기 의견 기반"]
    C --> D{"라운드 루프<br/>current_round < max_rounds"}

    D --> E["라운드 시작 분석<br/>next_round_analysis 사용"]
    E --> F{"next_action<br/>결정"}

    F -->|continue_normal| G["일반 라운드"]
    F -->|provoke_debate| H["논쟁 유도 라운드"]
    F -->|focus_clash| I["직접 대결 라운드"]
    F -->|change_angle| J["새로운 관점 라운드"]
    F -->|pressure_evidence| K["근거 요구 라운드"]

    G --> L["라운드 완료"]
    H --> L
    I --> L
    J --> L
    K --> L

    L --> M["사후 분석(post-round)<br/>최신 발언 기반 재분석"]
    M --> N{"조기 종료 조건 충족?"}
    N -- 예 --> O["루프 종료 → 마무리 단계"]
    N -- 아니오 --> P{"연장 조건 충족?"}
    P -- 예 --> Q["max_rounds += 1"]
    P -- 아니오 --> R["유지"]

    Q --> S["라운드 완료 표기"]
    R --> S
    S --> T{"다음 라운드"}
    T --> D

    %% 경계구간 정책 (경계에서는 사회자 발언 없음)
    S:::boundary
    classDef boundary fill:#f2f2f2,stroke:#999,stroke-dasharray: 5 5;
```

## 📊 토론 상태 분석 시스템

Dynamic 토론의 핵심은 **실시간 토론 상태 분석**입니다. AI가 매 라운드마다 다음 요소들을 분석합니다:

| 분석 요소 | 가능한 값 | 의미 |
|-----------|-----------|------|
| **temperature** | `heated`, `balanced`, `cold`, `stuck` | 토론의 열기와 활발함 정도 |
| **main_issue** | 자유 텍스트 | 현재 가장 핵심적인 논쟁거리 |
| **missing_perspective** | 자유 텍스트 | 아직 다뤄지지 않은 중요한 관점 |
| **next_action** | 5가지 액션 중 선택 | AI가 권장하는 다음 진행 방식 |
| **intervention** | 자유 텍스트 | 구체적인 개입 방안 |

### 🌡️ Temperature 가이드

- **🔥 heated**: 격렬한 논쟁, 활발한 반박, 강한 대립
- **⚖️ balanced**: 균형잡힌 토론, 적절한 논쟁 수준
- **❄️ cold**: 식어가는 토론, 반복적 주장, 새로운 내용 부족
- **🔒 stuck**: 교착 상태, 동일한 논점 반복, 진전 없음

## 🎯 5가지 라운드 타입

### 1. 📝 **일반 라운드** (`continue_normal`)

**구조**: 이전 정리 → 방향 제시 → 순차 발언

**특징**: 
- 균형잡힌 토론 진행
- 모든 패널에게 동등한 발언 기회
- 자연스러운 토론 흐름 유지

**사용 시기**: 토론이 정상적으로 흘러갈 때

**예시**:
```
[토론 진행자] 앞서 각 패널께서 기본 입장을 밝혀주셨습니다. 
이제 좀 더 구체적인 근거와 사례를 통해 논의를 심화해보겠습니다. 
김철수 패널께서는 방금 언급하신 생물학적 차이에 대한 
구체적인 연구 사례를 제시해주실 수 있나요?
```

### 2. ⚔️ **논쟁 유도 라운드** (`provoke_debate`)

**구조**: 이전 정리 → 논쟁 필요성 → 압박 질문

**특징**:
- 대립각이 큰 패널 2명 집중
- 직접적인 반박과 재반박 유도
- 압박 질문을 통한 논쟁 심화

**사용 시기**: 토론이 식어갈 때, 더 치열한 논쟁이 필요할 때

**예시**:
```
[토론 진행자] 지금까지의 논의에서 중요한 쟁점이 부각되고 있습니다. 
이제 좀 더 직접적인 논쟁이 필요해 보입니다. 
김철수 패널께서는 박미영 패널의 교육 평등론에 대해 
어떻게 반박하시겠습니까?
```

### 3. 🥊 **직접 대결 라운드** (`focus_clash`)

**구조**: 이전 정리 → 대결 필요성 → 진짜 1:1 대결

**특징**:
- **대립각이 큰 2명만** 선택하여 집중 대결
- 입장 표명 → 반박 → 재반박 구조 (3단계)
- 나머지 패널들은 "추가 의견" 형태로 선택적 참여
- 명확한 대립각 형성과 심화

**사용 시기**: 명확한 대립각 형성이 필요할 때

**진행 방식**:
1. **메인 대결**: 2명의 패널이 집중 논쟁 (입장→반박→재반박)
2. **추가 의견**: 나머지 패널들이 대결에 대한 간단한 의견 제시

**예시**:
```
⚔️  === 직접 대결 라운드 2 === ⚔️
🥊 대립각이 큰 2명의 패널이 1:1로 직접 맞서서 토론합니다

🔥 김철수 vs 박미영 직접 대결!

[토론 진행자] 이제 핵심 쟁점에 대해 정면승부를 할 때입니다. 
김철수 패널과 박미영 패널께서 교육 정책에 대해 직접 맞서서 토론해 주십시오. 
김철수 패널께서 먼저 박미영 패널의 주장을 정면으로 비판해 주시기 바랍니다.

💬 1:1 대결 후 추가 의견
[토론 진행자] 방금 김철수 패널과 박미영 패널의 치열한 대결을 보셨습니다. 
다른 패널분들께서도 이 논쟁에 대한 추가 의견이 있으시면 간단히 말씀해 주시기 바랍니다.
```

### 4. 🔄 **새로운 관점 라운드** (`change_angle`)

**구조**: 이전 정리 → 새 관점 필요성 → 시각 전환

**특징**:
- 놓친 관점이나 새로운 시각 도입
- 경제적, 사회적, 문화적 등 다양한 관점
- 토론의 시각을 확장

**사용 시기**: 토론이 한쪽으로 치우치거나 교착상태일 때

**⚠️ 쿨다운 제한**: **2라운드 쿨다운**
- change_angle 실행 후 최소 2라운드는 다시 선택 불가
- 너무 자주 주제 전환하는 것 방지
- 예: 라운드 2에서 실행 → 라운드 3,4에서는 선택 불가 → 라운드 5부터 다시 선택 가능

**예시**:
```
[토론 진행자] 지금까지 교육학적 관점에서 논의해왔습니다. 
이제 경제적 측면에서는 어떨지 살펴보겠습니다. 
김철수 패널께서는 성별 분리 교육의 경제적 효율성에 대해 
어떻게 보십니까?
```

### 5. 📋 **근거 요구 라운드** (`pressure_evidence`)

**구조**: 이전 정리 → 근거 필요성 → 데이터 압박

**특징**:
- 구체적 사례, 통계, 연구 결과 요구
- 주장의 신뢰성 검증
- 실증적 근거 기반 논의

**사용 시기**: 주장만 있고 근거가 부족할 때

**예시**:
```
[토론 진행자] 지금까지 다양한 주장들이 제기되었습니다. 
이제 구체적인 근거와 데이터로 논의를 뒷받침해보겠습니다. 
김철수 패널께서는 방금 주장에 대한 구체적인 
연구 데이터나 통계를 제시해주실 수 있나요?
```

## 🎲 라운드 타입 다양성 보장

### 📊 **연속 방지 시스템**

Dynamic 토론에서는 동일한 라운드 타입이 연속으로 선택되는 것을 방지하여 다양하고 역동적인 토론을 보장합니다.

**핵심 원칙**:
- **이전 라운드 타입 추적**: 시스템이 직전 라운드 타입을 기억
- **다양성 우선**: AI가 이전과 다른 타입을 우선적으로 선택
- **연속 방지**: 특히 `focus_clash`(직접 대결) 연속 선택 금지
- **쿨다운 시스템**: `change_angle`은 2라운드 쿨다운으로 과도한 주제 전환 방지

**동작 방식**:
```
라운드 1: provoke_debate (논쟁 유도)
라운드 2: change_angle (새로운 관점) ← 실행됨
라운드 3: focus_clash (직접 대결) ← change_angle 쿨다운 중
라운드 4: pressure_evidence (근거 요구) ← change_angle 쿨다운 중  
라운드 5: change_angle (새로운 관점) ← 쿨다운 완료, 다시 선택 가능
```

**AI 분석 프롬프트에 반영**:
- "이전 라운드(focus_clash)와 같은 타입은 피하고 다른 타입을 선택하세요"
- "연속으로 직접 대결은 금지! 다른 타입으로 변화를 주세요"
- "change_angle은 쿨다운 중이므로 선택 불가" (쿨다운 상태일 때)

### 🎯 **균형잡힌 토론 구성**

5가지 라운드 타입이 고르게 활용되어 다면적인 토론을 구현:

| 라운드 타입 | 빈도 목표 | 특징 |
|------------|----------|------|
| `continue_normal` | 30% | 안정적 기본 진행 |
| `provoke_debate` | 25% | 논쟁 활성화 |
| `focus_clash` | 20% | 직접 대결 |
| `change_angle` | 15% | 시각 전환 (2라운드 쿨다운) |
| `pressure_evidence` | 10% | 근거 강화 |

## ⚡ 적응적 시간 관리

### 🔚 조기 종료 조건

**조건**:
- 연속 2라운드 `cold` 또는 `stuck` 상태
- 최소 3라운드 이상 진행 완료

**동작**: 경계구간에서는 공지를 출력하지 않고 곧바로 마무리 단계로 전환합니다.

### ⏰ 연장 조건

**조건**:
- `temperature: heated` 상태
- 최대 라운드 도달 시점
- 원래 설정의 1.5배를 초과하지 않는 선에서

**동작**:
- +1 라운드씩 추가 (기존 +2에서 개선)
- 무제한 연장 방지로 적절한 토론 길이 유지
```
[토론 진행자] 토론이 매우 활발하여 1라운드 더 진행하겠습니다.
```

## 🔄 자연스러운 라운드 전환

### 🎨 **시각적 차별화 강화**

각 라운드 타입별로 명확한 시각적 구분을 통해 사용자가 토론의 변화를 직관적으로 인식할 수 있습니다.

**라운드 타입별 헤더**:
```
📝 === 일반 토론 라운드 1 === 📝
💬 균형잡힌 토론을 이어갑니다

🔥 === 논쟁 유도 라운드 2 === 🔥  
💥 패널 간 직접적인 반박과 논쟁을 유도합니다

⚔️  === 직접 대결 라운드 3 === ⚔️
🥊 대립각이 큰 2명의 패널이 1:1로 직접 맞서서 토론합니다

🔄 === 새로운 관점 라운드 4 === 🔄
💡 토론의 시각을 바꿔서 새로운 관점을 도입합니다

📋 === 근거 제시 라운드 5 === 📋
🔍 구체적인 데이터와 근거를 요구하여 주장을 검증합니다
```

### ❌ 기존 (Static) 방식
```
--- 토론 라운드 2 ---
[토론 진행자] 라운드 2를 시작하겠습니다.
[토론 진행자] 김철수 패널 의견을 말씀해주세요.
```
**문제점**: 사회자 2회 연속 발언, 맥락 없는 전환, 단조로운 시각적 표현

### ✅ 개선된 (Dynamic) 방식
```
--- 토론 라운드 2 ---
[토론 진행자] 앞서 각 패널께서 기본 입장을 밝혀주셨습니다. 
이제 구체적인 근거와 실례를 통해 논의를 심화해보겠습니다. 
김철수 패널께서는 달러 약화가 미국 내 실물경제에 미치는 
구체적 영향에 대해 말씀해주실 수 있나요?

(김철수 응답)

[토론 진행자] 박미영 패널께서도 이어서 의견을 말씀해 주시기 바랍니다.
```
**개선점**: 
- 통합된 라운드 시작 (정리 → 방향 → 질문)
- 자연스러운 패널 전환
- 맥락이 있는 질문

## ⚙️ 설정 및 사용법

### 📝 설정 파일 (config.yaml)

```yaml
debate:
  mode: "dynamic"  # "static" or "dynamic"
  duration_minutes: 10
  max_turns_per_agent: 3
  panel_size: 4
  show_debug_info: false
  
  # Dynamic 모드 세부 설정
  dynamic_settings:
    max_rounds: 4              # 최대 라운드 수 (권장: 4-6)
    intervention_threshold: "cold"  # 개입 임계점
```

### 🎛️ 설정 파라미터 설명

| 파라미터 | 기본값 | 설명 |
|----------|--------|------|
| `max_rounds` | 4 | 최대 진행 가능한 라운드 수 (권장: 4-6) |
| `intervention_threshold` | "cold" | 언제부터 적극적 개입을 시작할지 |

### 🚀 사용법

1. **Dynamic 모드 활성화**:
   ```yaml
   debate:
     mode: "dynamic"
   ```

2. **토론 실행**:
   ```bash
   python main.py
   ```

3. **토론 주제 입력**:
   - 시스템이 자동으로 패널 구성
   - Dynamic 분석을 통한 적응적 진행

## 📈 Static vs Dynamic 비교

| 측면 | Static 토론 | Dynamic 토론 |
|------|-------------|--------------|
| **진행 방식** | 고정된 순서 | 상황별 적응 |
| **매니저 역할** | 단순 발언권 분배 | 지능적 개입 |
| **시간 관리** | 고정된 라운드 | 유동적 조정 |
| **토론 품질** | 예측 가능 | 역동적, 흥미진진 |
| **사용자 경험** | 정형화된 느낌 | 자연스러운 토론 |

## 🎯 장점

### 🧠 **지능적 진행**
- AI가 토론 상태를 실시간 분석
- 상황에 맞는 최적의 진행 방식 선택
- 토론의 질과 흥미도 극대화

### 🌊 **자연스러운 흐름**
- 맥락이 있는 라운드 전환
- 구체적인 패널 이름 사용
- 반복적 표현 방지

### ⚡ **적응적 시간 관리**
- 지루한 토론은 조기 종료
- 활발한 토론은 연장
- 효율적인 시간 사용

### 🎭 **다양한 진행 방식**
- 5가지 라운드 타입으로 변화무쌍
- 논쟁 유도, 직접 대결, 새 관점 등
- 예측 불가능한 흥미로운 전개

## 🔮 향후 개선 계획

### ✅ **완료된 개선사항 (v2.0)**
- ✅ **라운드 타입 다양성 보장**: 연속 방지 시스템 구현
- ✅ **시간 관리 최적화**: 연장 조건 엄격화 (1.5배 제한)
- ✅ **1:1 대결 구조 개선**: 진짜 직접 대결 + 추가 의견
- ✅ **시각적 차별화 강화**: 라운드별 이모지 헤더
- ✅ **새로운 관점 라운드 쿨다운**: 2라운드 쿨다운으로 과도한 주제 전환 방지

### 🚧 **개발 중인 기능**
- **스마트 패널 선택**: 대립각 분석을 통한 최적 매칭
- **동적 라운드 수 조정**: 토론 품질에 따른 실시간 조정

### 🔮 **미래 계획**
- **패널 성향 분석**: 각 패널의 논쟁 스타일 학습
- **주제별 최적화**: 주제 유형에 따른 진행 방식 특화  
- **사용자 피드백**: 토론 품질에 대한 실시간 피드백 반영
- **고급 분석**: 감정 분석, 논리 구조 분석 등 추가
- **멀티모달 지원**: 음성, 이미지 등 다양한 입력 지원

---

**Dynamic 토론 시스템 v2.0**으로 정적이고 예측 가능한 토론에서 **역동적이고 지능적인 토론**으로 완전히 진화했습니다! 🚀✨

---

### 📋 업데이트 히스토리

**v2.0 (2025-08-05)**
- ✅ 라운드 타입 다양성 보장 시스템 추가
- ✅ 시간 관리 최적화 (연장 조건 엄격화)
- ✅ 1:1 대결 구조 개선 (진짜 직접 대결)
- ✅ 시각적 차별화 강화 (이모지 헤더)
- ✅ 새로운 관점 라운드 쿨다운 (2라운드 쿨다운)

**v1.0 (2025-08-04)**
- 🎉 Dynamic 토론 시스템 최초 구현
- 📊 토론 상태 분석 시스템
- 🎭 5가지 라운드 타입 구현